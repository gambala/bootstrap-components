## Оптимизированный под Sass и Sprockets Bootstrap 3

Конвертируем [Bootstrap 3](https://github.com/twbs/bootstrap) - получаем [Bootstrap 3 for Sass](https://github.com/twbs/bootstrap-sass).

Раскладываем на компоненты и оптимизируем под Sprockets - получаем данный форк.

# Disclaimer

Я создал форк для своих production-ready проектов. На популярность не рассчитываю. Поэтому:

* Пишу на русском сколько хочу и где хочу (issues, pull-requests, readme)
* Убираю из форка все, что лично мне не нужно (поддержка mincer и compass, неиспользуемые миксины)
* Развиваю форк в своем темпе, независимо от бутстрапа (добавляю свои компоненты, использую компоненты 4-ой версии бутстрапа)

# Цели

## Структурировать кашу бутстраповских стилей

И в 3-й, и в 4-й версии бутстрапа нет четко сформулированной методологии, по которой раскладывались бы стили. Стили набрасывались по принципам "Абы как" и "Главное, что работает". Из-за этого сложнее расширять фреймворк и поддерживать стилевую базу в крупных production-ready проектах.

## Ускорить сборку в sprockets

Все проекты я создаю в Ruby on Rails с использованием стандартного сборщика стилей и скриптов - sprockets. Его проблема - медлительность сборки. Подключение libsass не решает проблему сборки sass-стилей. Но ускорить сборку можно - заменой `@import` директив sass'а на `*= require` директивы sprockets'а. С оптимизацией кода.

# Установка

```
gem 'bootstrap-components', github: 'gambala/bootstrap-components'
```

# Использование

## Сценарий 1. Быстрое подключение стандартного бутстрапа

```
# application.css

*= require bootstrap
```

## Сценарий 2. Загрузка не всех компонентов

Копируем файл [_bootstrap.scss](https://github.com/gambala/bootstrap-components/blob/master/assets/stylesheets/_bootstrap.scss) в проект и удаляем все строки @import кроме необходимых.

```
# application.css

*= require ./bootstrap
```

## Сценарий 3. Кастомизация бутстрапа через переменные

Создаем в проекте файл variables.scss и наполняем кастомными значениями переменных.

```
...
$base-background-color: #f0f3fa;
$base-color: #424759;
$base-muted-color: #aeb5d1;
$legend-color: #868daa;
...
```

Копируем файл [_bootstrap.scss](https://github.com/gambala/bootstrap-components/blob/master/assets/stylesheets/_bootstrap.scss) из сценария 2, и добавляем в начало файла строку `@import "variables";`.

## Сценарий 4. Кастомизация бутстрапа через миксины

Скопировать файл миксина в проект. Изменить поведение миксина. Создать файл стилей нужного компонента. И использовать там переопределенный миксин.

Таким образом в css будут и стили, сгенерированные стандартным бутстраповским миксином, и кастомные стили, сгенерированные переопределенным миксином.

Здесь мы упираемся в ограничения SASS - в нем нельзя проделывать тот же фокус, что и с переменными. Это позволяет делать Stylus, и, возможно, я перенесу проект на Stylus.

## Сценарий 5. Кастомизация бутстрапа через стили

Дополняем компонент стилями. Находим нужный компонент, заводим в проекте файл с таким же именем, и определяем дополнительные стили там.

## Сценарий 6. Создание нового компонента

Идем в bootstrap-components, и проверяем, не конфликтует ли имя нового компонента с уже существующими компонентами. В проекте создаем папку для компонента, и нужные файлы - styles, variables, mixins.

## Сценарий 7. Ускорение пересборки стилей

Сценарий на уточнении. Возможно, отпадет за ненадобностью при успешном переходе на Stylus. Если нет - решается подключением бутстрапа через sprockets-директивы `*= require`, вместо sass-директив `@import`.

# Методология

## Модули

Всего модулей 12. В них упакованы компоненты бутстрапа. И в них рекомендуется упаковывать локальные стили проекта.

Порядок стилей в CSS важен, в оригинальном bootstrap приходилось подключать файлы бутстрапа, соблюдая порядок. Однако ориентироваться в модулях легче, когда те отсортированы по алфавиту. Поэтому модули bootstrap-components названы так, чтобы правильный порядок включения стилей в CSS совпадал с сортировкой по алфавиту.

### Basical

Базовые стили. Normalize, reset, стили для */div/span и общие модификаторы.

### Elemental

Стили элементарных (инлайновых) компонентов. Теги a/abbr/address/img/small, компоненты .badge/.label, модификаторы .-lead.

### External

Стили внешних подключаемых библиотек. В случае, когда стандартные стили библиотеки не устраивают - создается файл с перегрузкой стилей в модуле external. Пример: blueimp-gallery, select2, summernote.

### Formal

Стили форм, элементов форм и модификаций форм.

### Graphical

Стили компонентов, представляющих цифровые/текстовые данные в графическом виде. Например, progress-bar (число вида 70% в виде линейки прогресса) или rating (число вида 3/5 в виде ряда звезд).

### Informational

Стили для информации разных видов. Таблицы, списки, заголовки, абзацы, листинги кода. Компоненты в informational - блочные, в отличие от инлайновых в elemental модуле.

### Navigational

Стили навигационных компонентов. Хлебные крошки, ярды ссылок, группы кнопок, пагинация.

### Progressival

Стили ненавязчивых компонентов. Название модуля - от progressive enhancement. Карусели, слайдеры, тултипы, поповеры, модальные окна, дропдауны, алерты-нотификации.

### Repositorial

Стили контейнеров для информации. Примеры компонентов: collapse, media, panel, well.

### Responsival

Адаптивные стили. Сетка, контейнеры, хелперы для адаптивного показа/скрытия компонентов.

### Sectional

Стили секций. Секция - вместилище repositorial-контейнеров и адаптивных контейнеров и сетки. В бутстрапе это jumbotron и navbar (static и fixed). В проекте это section с модификаторами, footer как отдельный компонент.

### Whackal

Стили-хаки. От слова whack. Здесь - все костыли и хаки. Неразобранные стили можно складывать сюда как в папку "Входящее" в почте.

## Миксины

### Один файл - один миксин

Файл называется так же, как и миксин в нем.

### Миксины лежат в тех компонентах и модулях, где используются

Базовые миксины лежат в `basical/base` компоненте и используются, как правило, во всем фреймворке.
В то же время миксины для navbar лежат в `sectional/navbar` и используются внутри этого модуля и компонента.
